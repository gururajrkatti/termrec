AT_INIT

AT_SETUP([seeks])
AT_CHECK([seeks],,[ignore])
AT_CLEANUP

AT_SETUP([timeval arithmetics])
AT_CHECK([tarith])
AT_CLEANUP

AT_SETUP([recording])
AT_CHECK([rec test.ttyrec])
AT_CHECK([rec test.ttyrec.bz2])
AT_CLEANUP

AT_SETUP([loading and saving ttyrecs to/from memory])
AT_CHECK([rec test.ttyrec && loadsave test.ttyrec out.ttyrec && cmp test.ttyrec out.ttyrec])
AT_CHECK([rec test.ttyrec.bz2 && loadsave test.ttyrec.bz2 out.ttyrec.bz2 && cmp test.ttyrec.bz2 out.ttyrec.bz2])
AT_CLEANUP

AT_SETUP([vt100 sequences])
for x in "$srcdir/vt.in/"*
  do
    cp "${x/vt.in/vt.out}" expout
    AT_CHECK([vt -d <"$x"],,[expout])
  done
AT_CLEANUP

AT_SETUP([long vt100 writes])
(for i in {a,b,c}{a,b,c}{a,b,c}{a,b,c}{a,b,c}{a,b,c}{a,b,c}
  do echo "foo bar baz quux";done) >stdin
cp "$srcdir/vt.out/longwrite" expout
AT_CHECK([vt -d <stdin],,[expout])
AT_CLEANUP
